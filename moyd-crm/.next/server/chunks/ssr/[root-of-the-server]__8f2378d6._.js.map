{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/moyd-crm/moyd-crm/src/app/page.js"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport Navigation from '@/components/Navigation'\nimport { supabase } from '@/lib/supabase'\nimport { MessageSquare, Users, Send, Calendar } from 'lucide-react'\nimport Link from 'next/link'\n\nexport default function Dashboard() {\n  const [stats, setStats] = useState({\n    totalMembers: 0,\n    totalMessages: 0,\n    activeConversations: 0,\n    messagesToday: 0,\n  })\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    loadStats()\n  }, [])\n\n  async function loadStats() {\n    try {\n      const { count: memberCount } = await supabase\n        .from('members')\n        .select('*', { count: 'exact', head: true })\n\n      const { count: messageCount } = await supabase\n        .from('messages')\n        .select('*', { count: 'exact', head: true })\n\n      const { count: activeCount } = await supabase\n        .from('conversations')\n        .select('*', { count: 'exact', head: true })\n        .eq('status', 'active')\n\n      const today = new Date()\n      today.setHours(0, 0, 0, 0)\n      const { count: todayCount } = await supabase\n        .from('messages')\n        .select('*', { count: 'exact', head: true })\n        .gte('created_at', today.toISOString())\n\n      setStats({\n        totalMembers: memberCount || 0,\n        totalMessages: messageCount || 0,\n        activeConversations: activeCount || 0,\n        messagesToday: todayCount || 0,\n      })\n    } catch (error) {\n      console.error('Error loading stats:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div>\n        <Navigation />\n        <div className=\"flex items-center justify-center h-screen\">\n          <div className=\"text-gray-500\">Loading...</div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <Navigation />\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\n        <div className=\"px-4 py-6 sm:px-0\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-6\">Dashboard</h1>\n          \n          <div className=\"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\">\n            <StatCard \n              name=\"Total Members\"\n              value={stats.totalMembers}\n              icon={Users}\n              color=\"bg-blue-500\"\n            />\n            <StatCard \n              name=\"Total Messages\"\n              value={stats.totalMessages}\n              icon={MessageSquare}\n              color=\"bg-green-500\"\n            />\n            <StatCard \n              name=\"Active Conversations\"\n              value={stats.activeConversations}\n              icon={Send}\n              color=\"bg-purple-500\"\n            />\n            <StatCard \n              name=\"Messages Today\"\n              value={stats.messagesToday}\n              icon={Calendar}\n              color=\"bg-orange-500\"\n            />\n          </div>\n\n          <div className=\"mt-8\">\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\n              Quick Actions\n            </h2>\n            <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3\">\n              <Link\n                href=\"/messenger\"\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-4 rounded-lg shadow text-center font-medium transition\"\n              >\n                Open Messenger\n              </Link>\n              <Link\n                href=\"/members\"\n                className=\"bg-green-600 hover:bg-green-700 text-white px-6 py-4 rounded-lg shadow text-center font-medium transition\"\n              >\n                View Members\n              </Link>\n              <Link\n                href=\"/conversations\"\n                className=\"bg-purple-600 hover:bg-purple-700 text-white px-6 py-4 rounded-lg shadow text-center font-medium transition\"\n              >\n                All Conversations\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction StatCard({ name, value, icon: Icon, color }) {\n  return (\n    <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n      <div className=\"p-5\">\n        <div className=\"flex items-center\">\n          <div className={`flex-shrink-0 ${color} rounded-md p-3`}>\n            <Icon className=\"h-6 w-6 text-white\" />\n          </div>\n          <div className=\"ml-5 w-0 flex-1\">\n            <dl>\n              <dt className=\"text-sm font-medium text-gray-500 truncate\">\n                {name}\n              </dt>\n              <dd className=\"text-3xl font-semibold text-gray-900\">\n                {value}\n              </dd>\n            </dl>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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","debugId":null}}]
}